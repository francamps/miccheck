/*! miccheck - v0.0.0 - 2015-11-04 */$(function(){"use strict";function a(a){a||(a=r.additionalFile?m:l),p.addClass("loading"),r.isDone||$.getJSON(a,function(a){n=n.concat(a),b(),k()}).always(function(){p.removeClass("loading"),q.removeClass("loading")}).fail(function(){p.html("Something went wrong loading the articles.")})}function b(){r.isDone=o.length>=l.length+m.length}function c(a){var b=a.profile.first_name,c=a.profile.last_name;return b+" "+c}function d(a){return moment(a.publish_at,"YYYY-MM-DD HH:mm:ss").fromNow()}function e(){o=n.slice(0,r.show)}function f(){o=_.sortBy(o,function(a){return a[r.sortBy]})}function g(){p.empty(),$.each(o,function(a,b){var c=a%2===0?"even":"odd",d='<div class="article-row row-'+a+" "+c+'"></div>';p.append(d),$(".row-"+a).html(h(b)),q.removeClass("loading")})}function h(a){var b='<span class="cell">',e=b+'<img width="50" height="50" src="'+a.image+'"/>';return e+='<a href="'+a.url+'">'+a.title+"</a></span>",e+=b+c(a)+"</span>",e+=b+a.words+"</span>",e+=b+d(a)+"</span>"}function i(){$(".words-header").click(function(){r.sortBy="words",localStorage.sortBy="words",k()}),$(".submitted-header").click(function(){r.sortBy="publish_at",localStorage.sortBy="publish_at",k()})}function j(){q.click(function(){r.isDone?$(this).html("No more articles").addClass("disabled"):($(this).addClass("loading"),r.show+=10,r.show>n.length?(r.additional=!0,a()):k())})}function k(){e(),f(),g()}var l="assets/articles.json",m="assets/more-articles.json",n=[],o=[],p=$(".article-table-body"),q=$(".show-more > .button"),r={show:10,additionalFile:!1,isDone:!1,sortBy:localStorage.sortBy||"title"};a(),j(),i()}());